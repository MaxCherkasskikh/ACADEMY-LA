if (self.CavalryLogger) { CavalryLogger.start_js(["qlimw"]); }

__d("GeneratedPackerUtils",["ArtilleryStringDictionary","invariant"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(a,b){__p&&__p();var c=!0;for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(!(g instanceof b)){c=!1;break}}if(c)return a;g=u(a);f=new b(g/b.BYTES_PER_ELEMENT);e=0;for(var d=a,c=Array.isArray(d),g=0,d=c?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(c){if(g>=d.length)break;b=d[g++]}else{g=d.next();if(g.done)break;b=g.value}a=b;f.set(a,e);e+=a.length}return[f]}var j=[Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array,"string[]"],k={"float32[]":Float32Array,"float64[]":Float64Array,"int8[]":Int8Array,"int16[]":Int16Array,"int32[]":Int32Array,"uint8[]":Uint8Array,"uint16[]":Uint16Array,"uint32[]":Uint32Array,"float[]":Float32Array,"double[]":Float64Array,"int[]":Int32Array,"uint[]":Uint32Array,"number[]":Float64Array},l={number:b,uint32:d,"boolean":c,float64:f,"float32[]":a,"float64[]":a,"int8[]":a,"int16[]":a,"int32[]":a,"uint8[]":a,"uint16[]":a,"uint32[]":a,"float[]":a,"double[]":a,"int[]":a,"uint[]":a,"number[]":a,"string[]":t},m={float64:8,number:8,uint32:4,"boolean":1},n=new Set(Object.keys(l));function o(a){__p&&__p();var b={},c=function(c){__p&&__p();var d=a[c];n.has(d)||h(0);d==="string[]"?b[c]=function(a){__p&&__p();var b=a.strings,c=a.indexes;a=c.reduce(function(a,b){return a+b.length},0);b.size()>a&&(function(){var a=new g(),d=c.map(function(c){return c.map(function(c){return a.add(b.get(c))})});b=a;c=d})();a=b.pack();var e=a[0];a=a[1];return{type:d,offsets:e,data:a,indexes:c}}:d==="uint32"||d==="number"||d==="boolean"||d==="float64"?b[c]=function(a){return{type:d,value:a}}:b[c]=function(a){return{type:d,data:i(a,k[d])}}};for(var d=Object.keys(a),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(e){if(f>=d.length)break;j=d[f++]}else{f=d.next();if(f.done)break;j=f.value}j=j;c(j)}return function(c){__p&&__p();var d=[];for(var e=Object.keys(a),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;c[i]!=null||h(0);d.push(b[i](c[i]))}return d}}function p(a){__p&&__p();var b=q(a),c=[];for(var d=Object.keys(a),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=a[g];g==="string[]"?c.push(function(a,b,c){a.type==="string[]"||h(0),t(a,b,c)}):c.push(l[g])}return function(a){__p&&__p();var d=b(a),e=d.offsets;d=d.totalSize;d=new Uint8Array(d);for(var f=c.entries(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];i(a[j],d,e[j])}return d}}function q(a){__p&&__p();var b=[],c=function(c){var d=a[c];d==="string[]"?b.push(r):d==="uint32"||d==="number"||d==="boolean"||d==="float64"?b.push(function(){return m[d]}):d&&b.push(function(a){return s(a.data)})};for(var d=Object.keys(a),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c(g)}return function(a){__p&&__p();var c=[],d=0;for(var e=b.entries(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];c[i]=d;d+=h(a[i])}return{offsets:c,totalSize:d}}}function r(a){var b=a.offsets,c=a.data;a=a.indexes;return s([b])+s([c])+s(a)}function s(a){return 1+4+u(a)}function t(a,b,c){var d=a.offsets,e=a.data;a=a.indexes;c=c;v([d],b,c);c+=s([d]);v([e],b,c);c+=s([e]);v(a,b,c)}function a(a,b,c){var d=a.type;a=a.data;a.reduce(function(a,b){return a&&b instanceof k[d]},!0)||h(0);v(a,b,c)}function u(a){return a.reduce(function(a,b){return a+b.byteLength},0)}function v(a,b,c){var d=new DataView(b.buffer);d.setUint8(c,j.indexOf(a[0].constructor));d.setUint32(c+1,u(a),!0);var e=c+5;a.forEach(function(a){b.set(new Uint8Array(a.buffer,a.byteOffset,a.byteLength),e),e+=a.byteLength})}function b(a,b,c){a.type==="number"||h(0);b=new DataView(b.buffer);b.setFloat64(c,a.value,!0)}function c(a,b,c){a.type==="boolean"||h(0);b=new DataView(b.buffer);b.setUint8(c,a.value?1:0)}function d(a,b,c){a.type==="uint32"||h(0);b=new DataView(b.buffer);b.setUint32(c,a.value,!0)}function f(a,b,c){a.type==="float64"||h(0);b=new DataView(b.buffer);b.setFloat64(c,a.value,!0)}function w(a){var b=o(a),c=p(a);return function(a){return c(b(a))}}function x(a){return babelHelpers["extends"]({count:"uint32",hasOverflown:"boolean"},a.scalars,y(a.entries))}function y(a){__p&&__p();var b={};for(var c=Object.keys(a),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;b[f]=a[f]+"[]"}return b}function z(a,b){__p&&__p();var c=[];for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c.push(a.subarray(f[0],f[1]))}return c}function A(a,b){__p&&__p();var c={};for(var d=Object.keys(a),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=a[g];switch(h.type){case"arrayBuffer":c[g]=z(h.array,b);break;case"stringBuffer":c[g]={strings:h.strings,indexes:z(h.stringIndexes,b)};break;case"scalarBuffer":c[g]=h.value;break}}return c}function B(a){return a.reduce(function(a,b){return a+(b[1]-b[0])},0)}function C(a){a=x(a);var b=w(a);return function(a,c,d){a=babelHelpers["extends"]({},A(a,c),{count:B(c),hasOverflown:d});return b(a)}}e.exports={composePacker:w,composePackerForSink:C}}),null);