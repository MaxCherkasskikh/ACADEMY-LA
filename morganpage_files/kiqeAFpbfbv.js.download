if (self.CavalryLogger) { CavalryLogger.start_js(["Ey8S\/"]); }

__d("MActorListDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f,g){e.exports=new g()}),null);
__d("MActorListPayloadTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_ACTOR_LIST:"composer_actor_list",REQUEST_COMPOSER_ACTOR_LIST:"request_composer_actor_list",REQUEST_UFI_ACTOR_LIST:"request_ufi_actor_list",UFI_ACTOR_LIST:"ufi_actor_list"})}),null);
__d("XActorListController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/actor_list/",{actor_list_id:{type:"Int",required:!0},payload_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MActorListStore",["EventEmitter","MActorListDispatcher","MActorListPayloadTypes","MRequest","XActorListController"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m={},n={};b=babelHelpers.inherits(a,g);l=b&&b.prototype;function a(){"use strict";l.constructor.call(this),this.dispatchToken=h.register(function(a){switch(a.type){case i.REQUEST_COMPOSER_ACTOR_LIST:case i.REQUEST_UFI_ACTOR_LIST:this.$MActorListStore1(a.data.id,a.type);break;case i.COMPOSER_ACTOR_LIST:case i.UFI_ACTOR_LIST:Object.assign(m,a.data.actors);n[a.data.id]=Object.keys(a.data.actors);this.emit("change");break}}.bind(this))}a.prototype.$MActorListStore1=function(a,b){"use strict";a=k.getURIBuilder().setInt("actor_list_id",a).setEnum("payload_type",b).getURI();new j(a).send()};a.prototype.getActorData=function(a){"use strict";a=m[a];return a?a:null};a.prototype.getActorList=function(a){"use strict";a=n[a];return a?a.slice():null};e.exports=new a()}),null);
__d("MActorSelectorFlyout.react",["MFlyout","MLayerDestroyOnHide","MLayerHideOnBlur","ReactDOM","ReactLayer"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();a=k.createClass({createLayer:function(a){var b=this.props,c=b.shown,d=b.className,e=b.contextRef,f=b.isNux;b=babelHelpers.objectWithoutProperties(b,["shown","className","contextRef","isNux"]);d=d?d.split(" "):[];d.push("accelerate");f=f?[h]:[h,i];b=new g(babelHelpers["extends"]({},b,{addedBehaviors:f,classNames:d,context:j.findDOMNode(e()),margin:"none",nubalign:"center",offsetY:0,width:"100%"}),a);b.conditionShow(c);return b},receiveProps:function(a,b){this.updateBehaviors(b.behaviors,a.behaviors),this.layer&&this.layer.conditionShow(a.shown)}});e.exports=a}),null);
__d("MActorSelector.react",["CurrentUser","Image.react","Layout.react","MActorListDispatcher","MActorListStore","MActorSelectorFlyout.react","MXUISpinner.react","React","ReactLayeredComponentMixin_DEPRECATED","ShimButton.react","Stratcom","SubscriptionsHandler","cx","fbglyph","fbt","invariant","ix"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){__p&&__p();var x=i.Column,y=i.FillColumn;a=n.PropTypes;var z=20,A=32;b=n.createClass({displayName:"MActorSelector",mixins:[o],propTypes:{actorListID:a.string.isRequired,actorListRequestPayloadType:a.string.isRequired,coverEnabled:a.bool.isRequired,flyoutTitle:a.node,nuxBody:a.node,onChange:a.func.isRequired,onCompleteNux:a.func,selectedActorID:a.string.isRequired,selectedActorProfilePicURI:a.string.isRequired,showLoadingIndicator:a.bool.isRequired,showNux:a.bool.isRequired},getInitialState:function(){var a=k.getActorList(this.props.actorListID);return{actorListLoaded:a!=null,hasBeenClicked:!1,showFlyout:!1}},render:function(){__p&&__p();var a=null,b=null;this._isCovered()?b=w("95410"):(a=n.createElement(h,{className:"_jvo _3-99",src:w("142926")}),b=this.props.selectedActorProfilePicURI);var c=null;this.props.showLoadingIndicator&&(c=n.createElement(m,{className:"_1-gi"}));return n.createElement("div",{className:"_2g0e","data-sigil":"touchable",onClick:function(){if(this._ignoreNextClick){this._ignoreNextClick=!1;return}this.props.showNux&&(this.props.onCompleteNux&&this.props.onCompleteNux());this.setState({hasBeenClicked:!0,showFlyout:!this.state.showFlyout})}.bind(this),onMouseDown:function(){this._ignoreNextClick=!1}.bind(this),onTouchStart:function(){this._ignoreNextClick=!1}.bind(this),role:"presentation"},c,n.createElement(h,{className:"_1e_c",height:z,ref:"profilePic",src:b,width:z}),a)},renderLayers:function(){__p&&__p();if(!this.state.showFlyout)return this.props.showNux?n.createElement(l,{isNux:!0,contextRef:function(){return this.refs.profilePic}.bind(this),position:"above",shown:this.props.showNux},n.createElement(p,{className:"_3nv2","data-sigil":"touchable",onClick:function(){this.props.onCompleteNux&&this.props.onCompleteNux()}.bind(this)},n.createElement(h,{src:w("143543")})),n.createElement("div",{className:"_2ph_"},this.props.nuxBody,n.createElement("div",{className:"_2pie"},n.createElement("a",{href:this.props.settingsURI},u._("Post attribution settings"))))):null;var a=null;if(this.state.actorListLoaded){var b=k.getActorList(this.props.actorListID);Array.isArray(b)||v(0);var c=[];b.map(function(a){var b=k.getActorData(a);b||v(0);var d=null;a===this.props.selectedActorID&&(d=n.createElement(x,null,n.createElement("div",{className:"_2pi3"},n.createElement(h,{src:w("138598")}))));c.push(n.createElement("li",{className:"_ru0","data-sigil":"touchable",key:a,onClick:function(){a!==this.props.selectedActorID&&this.props.onChange(a)}.bind(this)},n.createElement(i,null,n.createElement(x,null,n.createElement(h,{className:"_1e_c",height:A,src:b.profilePicURI,width:A})),n.createElement(y,null,n.createElement("div",{className:"_3-9a _52jh"},b.name)),d)))}.bind(this));b=null;this.props.flyoutTitle&&(b=n.createElement("li",{className:"_ru0 _52j9",key:"title"},this.props.flyoutTitle));a=n.createElement("ul",null,b,c)}else a=n.createElement("div",{className:"_ru1"},n.createElement(m,{size:"large"}));return n.createElement(l,{contextRef:function(){return this.refs.profilePic}.bind(this),key:"mActorSelectorFlyout_"+this.props.actorListID+"_"+(this.state.actorListLoaded?this.props.selectedActorID:"loading"),onToggle:function(a){a||(this._ignoreNextClick=!0,this.setState({showFlyout:a}))}.bind(this),position:"below",shown:!0},a)},_subscriptionsHandler:null,_ignoreNextClick:!1,componentDidMount:function(){this._subscriptionsHandler=new r(),this._subscriptionsHandler.addSubscriptions(k.addListener("change",function(){var a=k.getActorList(this.props.actorListID);a&&!this.state.actorListLoaded&&this.setState({actorListLoaded:!0})}.bind(this)),q.listen("MActorSelector-close",null,function(){this.setState({showFlyout:!1})}.bind(this)))},componentDidUpdate:function(a){if(this.state.showFlyout){var b=k.getActorList(this.props.actorListID);b===null&&j.dispatch({data:{id:this.props.actorListID},type:this.props.actorListRequestPayloadType})}this.props.selectedActorProfilePicURI!==a.selectedActorProfilePicURI&&this.setState({showFlyout:!1})},componentWillUnmount:function(){this._subscriptionsHandler&&(this._subscriptionsHandler.release(),this._subscriptionsHandler=null)},_isCovered:function(){return this.props.coverEnabled&&this.props.selectedActorID===g.getID()&&!this.state.hasBeenClicked}});e.exports=b}),null);
__d("ActorSelectorNuxTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER:"composer_seen_count",COMPOSER_COVERED:"composer_covered_seen_count",M_COMPOSER:"m_composer_seen_count",M_UFI:"m_ufi_seen_count",UFI:"ufi_seen_count",UFI_TIMELINE:"ufi_timeline_seen_count",UFI_TIMELINE_COVERED:"ufi_timeline_covered_seen_count"})}),null);
__d("MActorSelectorNuxPayloadTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_NUX_STATUS:"composer_nux_status",COMPOSER_NUX_SEEN:"composer_nux_seen",REQUEST_COMPOSER_NUX_STATUS:"request_composer_nux_status",REQUEST_UFI_NUX_STATUS:"request_ufi_nux_status",UFI_NUX_SEEN:"ufi_nux_seen",UFI_NUX_STATUS:"ufi_nux_status"})}),null);
__d("XActorSelectorNuxSeenWriteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/actor_selector/nux/mark_seen/",{nux_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XActorSelectorNuxStatusController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/actor_selector/nux/status/",{actor_selector_id:{type:"String",required:!0},payload_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MActorSelectorNuxStore",["ActorSelectorNuxTypes","EventEmitter","MActorSelectorNuxDispatcher","MActorSelectorNuxPayloadTypes","MRequest","XActorSelectorNuxStatusController","XActorSelectorNuxSeenWriteController","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o,p={},q={},r=null,s=!1,t=!1;b=babelHelpers.inherits(a,h);o=b&&b.prototype;function a(){"use strict";__p&&__p();o.constructor.call(this),this.dispatchToken=i.register(function(a){__p&&__p();switch(a.type){case j.COMPOSER_NUX_SEEN:this.$MActorSelectorNuxStore1(a.type);s=!0;this.emit("change");break;case j.UFI_NUX_SEEN:this.$MActorSelectorNuxStore1(a.type);t=!0;this.emit("change");break;case j.COMPOSER_NUX_STATUS:p[a.data.actorSelectorID]=a.data.isEnabled;this.emit("change");break;case j.UFI_NUX_STATUS:q[a.data.actorSelectorID]=a.data.isEnabled;this.emit("change");break;case j.REQUEST_COMPOSER_NUX_STATUS:this.$MActorSelectorNuxStore2(a.type,a.data.actorSelectorID);break;case j.REQUEST_UFI_NUX_STATUS:r===null&&(r=a.data.actorSelectorID);this.$MActorSelectorNuxStore2(a.type,a.data.actorSelectorID);break}}.bind(this))}a.prototype.canShowComposerNux=function(a){"use strict";return s?!1:p[a]||!1};a.prototype.canShowUFINux=function(a){"use strict";if(t)return!1;return a!==r?!1:q[a]||!1};a.prototype.getUFIActorSelectorIDToShowNux=function(){"use strict";return r};a.prototype.$MActorSelectorNuxStore1=function(a){"use strict";__p&&__p();var b=null;switch(a){case j.COMPOSER_NUX_SEEN:b=g.M_COMPOSER;break;case j.UFI_NUX_SEEN:b=g.M_UFI;break;default:n(0)}a=m.getURIBuilder().setEnum("nux_type",b).getURI();new k(a).send()};a.prototype.$MActorSelectorNuxStore2=function(a,b){"use strict";b=l.getURIBuilder().setString("actor_selector_id",b).setEnum("payload_type",a).getURI();new k(b).send()};e.exports=new a()}),null);
/**
 * License: https://www.facebook.com/legal/license/2v2plzJQoTQ/
 */
__d("IntersectionObserverFallback",["TimeSlice","performanceNow","setInterval","throttle"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=document.documentElement,l=[];function m(a,b){var c=Math.max(a.top,b.top),d=Math.min(a.bottom,b.bottom),e=Math.max(a.left,b.left);a=Math.min(a.right,b.right);b=a-e;var f=d-c;return b>=0&&f>=0?{top:c,bottom:d,left:e,right:a,width:b,height:f}:undefined}function n(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(a){__p&&__p();this.time=a.time;this.target=a.target;this.rootBounds=a.rootBounds;this.boundingClientRect=a.boundingClientRect;this.intersectionRect=a.intersectionRect||n();this.isIntersecting=!!a.intersectionRect;a=this.boundingClientRect;a=a.width*a.height;var b=this.intersectionRect.width*this.intersectionRect.height;a?this.intersectionRatio=b/a:this.intersectionRatio=this.isIntersecting?1:0}function a(a,b){__p&&__p();this.THROTTLE_TIMEOUT=100;this.POLL_INTERVAL=null;this.$12=g.guard(j(function(){var a=this.$14(),b=a?this.$15():n();this.$6.forEach(function(c){var d=c.element,e=d.getBoundingClientRect(),f=this.$16(d),g=c.entry,i=a&&f&&!this.$2&&this.$17(d,b);c=c.entry=new o({time:h(),target:d,boundingClientRect:e,rootBounds:b,intersectionRect:i});!g?this.$7.push(c):a&&f?this.$18(g,c)&&this.$7.push(c):g&&g.isIntersecting&&this.$7.push(c)}.bind(this));this.$7.length&&this.$1(this.takeRecords(),this)}.bind(this),this.THROTTLE_TIMEOUT),"IntersectionObserverFallback: checkForIntersections");this.$2=!1;try{window.top.document}catch(a){this.$2=!0}b=b||{};this.$1=a;this.$4=!1;this.$6=[];this.$7=[];this.$8=this.$9(b.rootMargin);this.thresholds=this.$10(b.threshold);this.root=b.root||null;this.rootMargin=this.$8.map(function(a){return a.value+a.unit}).join(" ")}a.prototype.$10=function(a){a=a||[0];Array.isArray(a)||(a=[a]);return a.sort().filter(function(a,b,c){return a!==c[b-1]})};a.prototype.$9=function(a){a=a||"0px";a=a.split(/\s+/).map(function(a){a=/^(-?\d*\.?\d+)(px|%)$/.exec(a);return{value:parseFloat(a[1]),unit:a[2]}});a[1]=a[1]||a[0];a[2]=a[2]||a[0];a[3]=a[3]||a[1];return a};a.prototype.$11=function(){this.$4||(this.$4=!0,this.$12(),this.POLL_INTERVAL?this.$5=i(this.$12,this.POLL_INTERVAL):(window.addEventListener("resize",this.$12),document.addEventListener("scroll",this.$12),"MutationObserver"in window&&(this.$3=new MutationObserver(this.$12),this.$3.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};a.prototype.$13=function(){this.$4&&(this.$4=!1,this.$5&&(clearInterval(this.$5),this.$5=undefined),window.removeEventListener("resize",this.$12),document.removeEventListener("scroll",this.$12),this.$3&&(this.$3.disconnect(),this.$3=undefined))};a.prototype.$17=function(a,b){__p&&__p();if(window.getComputedStyle(a).display=="none")return undefined;var c=a.getBoundingClientRect();c=c;a=a.parentElement;var d=!1;while(!d){var e=null;a==this.root||a&&a.nodeType!=1?(d=!0,e=b):window.getComputedStyle(a).overflow!="visible"&&(e=a&&a.getBoundingClientRect());if(e){c=m(e,c);if(!c)break}a=a&&a.parentElement}return c};a.prototype.$15=function(){var a;void 0;if(this.root)a=this.root.getBoundingClientRect();else{var b=document.documentElement,c=document.body,d=b&&b.clientWidth||c&&c.clientWidth;b=b&&b.clientHeight||c&&c.clientHeight;a={top:0,left:0,right:d,width:d,bottom:b,height:b}}return this.$19(a)};a.prototype.$19=function(a){var b=this.$8.map(function(b,c){return b.unit=="px"?b.value:b.value*(c%2?a.width:a.height)/100});b={top:a.top-b[0],right:a.right+b[1],bottom:a.bottom+b[2],left:a.left-b[3],width:0,height:0};b.width=b.right-b.left;b.height=b.bottom-b.top;return b};a.prototype.$18=function(a,b){__p&&__p();a=a&&a.isIntersecting?a.intersectionRatio||0:-1;b=b.isIntersecting?b.intersectionRatio||0:-1;if(a===b)return!1;for(var c=0;c<this.thresholds.length;c++){var d=this.thresholds[c];if(d==a||d==b||d<a!==d<b)return!0}return!1};a.prototype.$14=function(){return!this.root||k!==null&&k.contains(this.root)};a.prototype.$16=function(a){var b=this.root||k;return b!==null&&b.contains(a)};a.prototype.$20=function(){l.indexOf(this)<0&&l.push(this)};a.prototype.$21=function(){var a=l.indexOf(this);a!=-1&&l.splice(a,1)};a.prototype.observe=function(a){if(this.$6.some(function(b){return b.element==a}))return;this.$20();this.$6.push({element:a,entry:null});this.$11();this.$12()};a.prototype.unobserve=function(a){this.$6=this.$6.filter(function(b){return b.element!=a}),this.$6.length||(this.$13(),this.$21())};a.prototype.disconnect=function(){this.$6=[],this.$13(),this.$21()};a.prototype.takeRecords=function(){var a=this.$7.slice();this.$7=[];return a};e.exports=a}),null);
__d("IntersectionObserver",["IntersectionObserverFallback"],(function(a,b,c,d,e,f,g){"use strict";a="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;e.exports=a?window.IntersectionObserver:g}),null);
__d("onViewportChanged",["EventListener","emptyFunction","getViewportDimensions","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=[],l=!1,m=null,n=null,o=void 0,p=void 0;function q(a){a=a?i():i.withoutScrollbars();return{top:0,bottom:a.height,left:0,right:a.width}}function a(a,b){var c=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],d={transform:b||h.thatReturnsArgument,callback:a,needsUpdate:!0,withScrollbars:c};k.push(d);x();s();return{remove:r.bind(null,d),scheduleCheck:v.bind(null,d)}}function r(a){a=k.indexOf(a);a!==-1&&(k.splice(a,1),k.length===0&&(t(),n=null,m=null))}function s(){p||(p=g.listen(window,"scroll",w),o=g.listen(window,"resize",u))}function t(){p&&(p.remove(),o.remove(),p=o=null)}function u(){n=null,m=null,w()}function v(a){a.needsUpdate=!0,x()}function w(){k.map(function(a){return a.needsUpdate=!0}),x()}function x(){l||(l=!0,j(function(){l=!1,z()}))}function y(a){if(a.needsUpdate){a.needsUpdate=!1;return!0}return!1}function z(){m||(m=q(!1));n||(n=q(!0));var a=k.filter(y),b=a.map(function(a){return a.transform.call(null,a.withScrollbars?n:m)});a.forEach(function(a,c){return a.callback.call(null,b[c])})}e.exports=a}),null);
__d("onRectIsWithinViewport",["onViewportChanged"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,b){return!(a.bottom<b.top||a.top>b.bottom||a.right<b.left||a.left>b.right)}function a(a,b){var c=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],d=void 0;function e(b){var c=a();return!!c&&h(c,b)}function f(a){d!==a&&(d=a,b(a))}return g(f,e,c)}e.exports=a}),null);
__d("OnVisible.react",["IntersectionObserver","React","ReactDOM","TimeSlice","WebSpeedJSExperiments","getElementRect","onRectIsWithinViewport"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n;b=h.PropTypes;c=babelHelpers.inherits(a,h.Component);n=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=n.constructor).call.apply(a,[this].concat(d)),this.$1=!1,this.$9=function(){__p&&__p();if(!this.$1)return null;var a=this.props.buffer||0,b=i.findDOMNode(this);if(!b)return null;b=l(b);if(b.left===0&&b.right===0&&b.top===0&&b.bottom===0)return null;b.left-=a;b.right+=a;b.top-=a;b.bottom+=a;return b}.bind(this),b}a.prototype.componentDidMount=function(){this.$1=!0,this.$2()};a.prototype.componentDidUpdate=function(){this.$2()};a.prototype.componentWillUnmount=function(){this.$1=!1,this.$3()};a.prototype.reset=function(){this.$3(),this.$2()};a.prototype.check=function(){this.$4&&this.$4.scheduleCheck()};a.prototype.$2=function(){k.i10s_io_on_visible?this.$5():this.$6()};a.prototype.$3=function(){k.i10s_io_on_visible?this.$7():this.$8()};a.prototype.$6=function(){var a=i.findDOMNode(this);this.$4&&a!==this.$10&&this.$8();this.$4||(this.$10=a,this.$4=m(this.$9,function(a){a=a?this.props.onVisible:this.props.onHidden;a&&a()}.bind(this),this.props.withScrollbars))};a.prototype.$8=function(){this.$4&&(this.$4.remove(),this.$4=null)};a.prototype.$5=function(){__p&&__p();var a=i.findDOMNode(this);this.$11&&a!==this.$10&&this.$7();if(!this.$11){var b={rootMargin:this.props.buffer?this.props.buffer+"px":"0px"};this.$10=a;this.$11=new g(j.guard(function(a){a.forEach(function(a){if(a.target===this.$10){a=a.intersectionRatio>0?this.props.onVisible:this.props.onHidden;a&&a()}}.bind(this))}.bind(this),"IntersectionObserver callback"),b);this.$11.observe(a)}};a.prototype.$7=function(){this.$11&&(this.$11.unobserve(this.$10),this.$11.disconnect(),this.$11=undefined)};a.prototype.render=function(){return h.Children.only(this.props.children)};a.propTypes={onVisible:b.func,onHidden:b.func,buffer:b.number,withScrollbars:b.bool};e.exports=a}),null);
__d("XPagesManagerPostAttributionSettingsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/settings/post_attribution/",{page_token:{type:"String",required:!0},business_id:{type:"Int"}})}),null);
__d("XUFIActorChangeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/actor/change/",{})}),null);
__d("MUFIActorSelector.react",["ActorURI","MLegacyDataStore","MActorListPayloadTypes","MActorListStore","MActorSelector.react","MActorSelectorNuxDispatcher","MActorSelectorNuxPayloadTypes","MActorSelectorNuxStore","MFeedUFI","MParent","MRequest","OnVisible.react","React","ReactDOM","ReactComponentWithPureRenderMixin","SubscriptionsHandler","XPagesManagerPostAttributionSettingsController","XUFIActorChangeController","fbt","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){__p&&__p();a=s.PropTypes;b=s.createClass({displayName:"MUFIActorSelector",mixins:[u],propTypes:{feedbackTargetID:a.string.isRequired,location:a.string.isRequired,initialSelectedActorID:a.string.isRequired,initialSelectedActorProfilePicURI:a.string.isRequired,settingsURI:a.string},getInitialState:function(){return{isVisible:!1,selectedActorID:this.props.initialSelectedActorID,selectedActorProfilePicURI:this.props.initialSelectedActorProfilePicURI,showLoadingIndicator:!1,showNux:!1}},render:function(){return s.createElement(r,{onVisible:function(){return this.setState({isVisible:!0})}.bind(this),onHidden:function(){return this.setState({isVisible:!1})}.bind(this)},s.createElement(k,{actorListID:this.props.feedbackTargetID,actorListRequestPayloadType:i.REQUEST_UFI_ACTOR_LIST,coverEnabled:!1,flyoutTitle:this._getFlyoutTitle(),nuxBody:this._getNuxBody(),onChange:this._onChange,onCompleteNux:this._onCompleteNux,selectedActorID:this.state.selectedActorID,selectedActorProfilePicURI:this.state.selectedActorProfilePicURI,settingsURI:this._getSettingsURI(),showLoadingIndicator:this.state.showLoadingIndicator,showNux:this.state.isVisible&&this.state.showNux}))},_subscriptionsHandler:null,componentDidMount:function(){this._subscriptionsHandler=new v(),this._subscriptionsHandler.addSubscriptions(n.addListener("change",function(){var a=n.canShowUFINux(this.props.feedbackTargetID);!this.state.showNux&&a?this.setState({showNux:!0}):this.state.showNux&&!a&&this.setState({showNux:!1})}.bind(this))),this.props.location==="timeline"&&l.dispatch({data:{actorSelectorID:this.props.feedbackTargetID},type:m.REQUEST_UFI_NUX_STATUS})},componentWillUnmount:function(){this._subscriptionsHandler&&(this._subscriptionsHandler.release(),this._subscriptionsHandler=null)},_getFlyoutTitle:function(){return y._("Liking and commenting as:")},_onChange:function(a){__p&&__p();this.setState({selectedActorID:a,showLoadingIndicator:!0});var b=g.create(x.getURIBuilder().getURI(),a);b=new q(b).setMethod("POST");var c={from_actor_id:this.state.selectedActorID,ft_ent_identifier:this.props.feedbackTargetID,location:this.props.location};b.setData(c);b.listen("done",this._createActorChangeSuccessHandler(a));b.listen("error",this._createActorChangeErrorHandler());b.send();c=t.findDOMNode(this);if(c instanceof Element){b=p.bySigil(c,"feed-ufi-metadata");if(b){c=j.getActorData(a);c||z(0);h.set(b,{actor_id:a,actor_name:c.name})}}o.clearCache()},_createActorChangeSuccessHandler:function(a){return function(){var b=j.getActorData(a);b||z(0);this.setState({selectedActorID:a,selectedActorProfilePicURI:b.profilePicURI,showLoadingIndicator:!1})}.bind(this)},_createActorChangeErrorHandler:function(){var a=this.state.selectedActorID,b=this.state.selectedActorProfilePicURI;return function(){this.setState({selectedActorID:a,selectedActorProfilePicURI:b,showLoadingIndicator:!1})}.bind(this)},_getNuxBody:function(){return y._("Like, comment or share as yourself or as one of the Pages that you manage.")},_getSettingsURI:function(){return w.getURIBuilder().setString("page_token",this.props.feedbackTargetOwnerID).getURI()},_onCompleteNux:function(){l.dispatch({type:m.UFI_NUX_SEEN})}});e.exports=b}),null);