if (self.CavalryLogger) { CavalryLogger.start_js(["sGe+Z"]); }

__d("GeneratedSinkUtils",["ArtilleryStringDictionary","Bootloader","GeneratedSinkReliability","invariant"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=void 0,l=!1;function m(){if(k!=null||l)return;l=!0;h.loadModules(["GeneratedPackerUtils"],function(a){a=a.composePackerForSink;k=a;l=!1},"GeneratedSinkUtils")}function n(a,b){switch(a){case"float64":return{type:"arrayBuffer",array:new Float64Array(b)};case"string":return{type:"stringBuffer",strings:new g(),stringIndexes:new Uint32Array(b)};default:throw new Error("Unsupported entry property type ("+a+")")}}function o(a,b,c){__p&&__p();var d;switch(a){case"float64":var d=function(){c.type==="arrayBuffer"||j(0);var a=c;return{v:function(c,d){a.array[d]=c[b]}}}();if(typeof d==="object")return d.v;case"string":d=function(){c.type==="stringBuffer"||j(0);var a=c;return{v:function(c,d){a.stringIndexes[d]=a.strings.add(c[b])}}}();if(typeof d==="object")return d.v;default:throw new Error("Unknown pusher type ("+a+")")}}function a(a,b,c,d){__p&&__p();return function(){__p&&__p();function b(){"use strict";__p&&__p();this.$1=0;this.$2={};this.$4=[];this.$5=0;var b=a.scalars,d=a.entries;for(var b=Object.keys(b),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;this.$2[g]={type:"scalarBuffer",value:null}}for(var g=Object.keys(d),f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;b=g[e++]}else{e=g.next();if(e.done)break;b=e.value}b=b;this.$2[b]=n(d[b],c);this.$4.push(o(d[b],b,this.$2[b]))}}b.prototype.addEntry=function(a){"use strict";this.isActive()&&(this.$4.forEach(function(b){b(a,this.$6(this.$1))}.bind(this)),this.$1+=1)};b.prototype.isActive=function(){"use strict";return this.$5>0};b.prototype.open=function(){"use strict";__p&&__p();i.bumpCounter("open",d);m();var a=this.$1;this.$5+=1;var b={close:function(){var b=arguments.length<=0||arguments[0]===undefined?!1:arguments[0];i.bumpCounter("close",d);this.$5-=1;return b?null:this.$7(a,this.$1)}.bind(this)};return b};b.prototype.setScalar=function(a,b){"use strict";a=this.$2[a];a!=null&&a.type==="scalarBuffer"||j(0);a.value=b};b.prototype.$6=function(a){"use strict";return a%c};b.prototype.$8=function(a,b){"use strict";__p&&__p();var d=Math.max(0,this.$1-c),e=d>a,f=[];if(a===b||e&&d>=b)f.push([0,0]);else{d=e?d:a;a=this.$6(d);d=this.$6(b);d>a?f.push([a,d]):(f.push([a,c]),d>0&&f.push([0,d]))}return{hasOverflown:e,segments:f}};b.prototype.$7=function(b,c){"use strict";__p&&__p();if(k==null){i.bumpCounter("packer_not_loaded",d);return null}b=this.$8(b,c);c=b.hasOverflown;b=b.segments;var e=null;try{e=k(a)(this.$2,b,c),i.bumpCounter("pack_success",d)}catch(a){i.bumpCounter("pack_failed_exception",d)}return e};return b}()}e.exports={createSink:a}}),null);