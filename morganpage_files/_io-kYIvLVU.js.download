if (self.CavalryLogger) { CavalryLogger.start_js(["LE\/My"]); }

__d("MTouchChannelManager",["Bootloader","MChannelManager","Stratcom"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=!1;function a(){if(j)return;j=!0;h.addListener(h.CHANNEL_MESSAGE,function(a){return g.loadModules(["MTouchChannelPayloadRouter"],function(b){return b.route(a)},"MTouchChannelManager")});i.listen(["m:onload","m:jewels:init-counts"],null,h.startChannel);h.startChannel()}f.initialize=a}),null);
__d("MPresenceIcon",["setTimeoutAcrossTransitions","DOM","MLegacyDataStore","MRequest","MURI","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=0,n=1,o=2,p;function q(){__p&&__p();var a=h.scry(document.body,"i","presence-icon"),b=[];for(var c=0,d=a.length;c<d;++c){var e=i.get(a[c]);e.userid&&!b[e.userid]&&(b[e.userid]=1)}e=new k("/chat/presence_icon.php").toString();c=new j(e).setData({ids:Object.keys(b)}).setIgnoreErrors(!0);c.listen("done",function(d){for(var b=0,c=a.length;b<c;++b){var e=i.get(a[b]);e&&e.userid&&l.hasSigil(a[b],"online-icon")&&d[e.userid]==n||l.hasSigil(a[b],"mobile-icon")&&d[e.userid]==o?h.show(a[b]):h.hide(a[b])}});c.listen("finally",function(a){clearTimeout(p),p=g(q,m)});c.send()}m=m?m*100:6e4;q()}),null);
__d("DeviceBasedLoginRedesignChooserUser",["EventListener","Keys"],(function(a,b,c,d,e,f,g,h){a={attachHandlerToElement:function(a,b){g.listen(a,"click",function(){b.submit()}),g.listen(a,"keyup",function(a){a.keyCode===h.RETURN&&b.submit()})}};e.exports=a}),null);
__d("MExceptionReportingMarauderLogger",["ErrorUtils"],(function(a,b,c,d,e,f,g){function h(a){d(["MarauderLogger"],function(b){b.log("js_exception",undefined,a),a=null})}function a(a,b,c){h({message:a,context:b,stack_trace:c})}g.addListener(function(a){h(a)});e.exports.log=a}),null);
__d("MPopupSmallCta",["MAnimator","Style","MViewport","ge"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=150,l=1e3,m=214;a={show:function(a,b,c){this._expandingCta=a,this._ctaUnit=b,this._closeIcon=c,this._ctaVisible=!1,this._ctaShownOnce=!1,this._ctaClosed=!1,window.addEventListener("load",this._init.bind(this))},_init:function(){__p&&__p();var a=j("header"),b=j("header-notices"),c=j("mobile_login_bar");this._scrollThreshold=0;this._height=m;if(a){h.set(a,"z-index","0");a=a.clientHeight;a&&(this._scrollThreshold+=a)}if(b){h.set(b,"z-index","0");a=b.clientHeight;a&&(this._scrollThreshold+=a)}if(c){b=c.clientHeight;b&&(this._scrollThreshold+=b,this._height=b)}setInterval(this._updateCTA.bind(this),l);this._closeIcon.addEventListener("click",function(a){this._ctaClosed=!0,this._hideCTA()}.bind(this))},_hideCTA:function(){var a=this._expandingCta.clientHeight;g.play(a,0,k,function(a){return h.set(this._expandingCta,"height",Math.round(a)+"px")}.bind(this));this._ctaVisible=!1;clearTimeout(this._timerId)},_showCTA:function(){if(this._ctaVisible)return;h.set(this._ctaUnit,"margin-top","0px");h.set(this._expandingCta,"background","none");g.play(0,this._height,k,function(a){return h.set(this._expandingCta,"height",Math.round(a)+"px")}.bind(this));this._ctaVisible=!0;this._ctaShownOnce=!0;clearTimeout(this._timerId)},_updateCTA:function(){var a=i.getHeight();if(a<this._height)if(this._ctaVisible)this._hideCTA();else return;a=this._scrollThreshold;!this._ctaVisible&&!this._ctaClosed&&i.getScrollTop()>a&&this._showCTA();this._ctaVisible&&i.getScrollTop()<a&&this._hideCTA()}};e.exports=a}),null);
__d("MTabbable",["MAria","MJSEnvironment","MViewport","isNodeWithinRect"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();function k(a,b){while(a&&a!==b){if(g.isHidden(a))return!0;a=a.parentNode}return!1}function l(a,b){if(a.offsetHeight===0||a.offsetWidth===0||window.getComputedStyle(a).visibility==="hidden"||parseInt(a.tabIndex,10)<0||k(a,b))return!1;if(a.tabIndex>=0)return!0;switch(a.tagName){case"A":return a.href&&a.rel!="ignore";case"INPUT":return a.type!="hidden"&&a.type!="file"&&!a.disabled;case"BUTTON":case"SELECT":case"TEXTAREA":return!a.disabled}return!1}function a(a){__p&&__p();if(!a.getBoundingClientRect)return;var b=h.IS_APPLE_WEBKIT_IOS&&parseFloat(h.OS_VERSION)>=8||h.BROWSER_NAME==="Safari"&&!h.IS_APPLE_WEBKIT_IOS;b=b?a.querySelectorAll("a, button, select, [tabindex]"):a.querySelectorAll("a, button, input, select, textarea, [tabindex]");var c=i.getBoundingRect();for(var d=0,e;e=b[d];d++)if(l(e,a)&&j(e,c)){e.focus();return}}f.focusTabbable=a}),null);
__d("MBackButton",["Stratcom"],(function(a,b,c,d,e,f,g){var h=!1;a=function(){if(h)return;h=!0;g.listen("click","back-button",function(event){history.length>1&&(event.prevent(),history.go(-1))})};f.main=a}),null);
__d("MessagingEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DELETE:"delete",DELETE_MESSAGES:"delete_messages",DELIVER:"deliver",ERROR:"error",READ:"read",REPORT_SPAM:"report_spam",REPORT_SPAM_MESSAGES:"report_spam_messages",UNMARK_SPAM:"unmark_spam",SUBSCRIBE:"subscribe",CHANGE_MUTE_SETTINGS:"change_mute_settings",TAG:"tag",UNREAD:"unread",UNSUBSCRIBE:"unsubscribe",DELIVER_LOG:"deliver_log",MARK_ALL_READ:"mark_all_read",MARK_ALL_SEEN:"mark_all_seen",MORE_THREADS:"more_threads",READ_ALL:"read_all",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",SENT_PUSH:"sent_push",DELIVER_FAST_PAST:"deliver_fast_path",MESSENGER_STATUS:"messenger_status",UPDATE_PINNED_THREADS:"update_pinned_threads",CHANGE_PAGE_THREAD_FLAG:"change_page_thread_flag",CREATE_PAGE_ADMIN_NOTE:"create_page_admin_note",NO_OP:"no_op"})}),null);