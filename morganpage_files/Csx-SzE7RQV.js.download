if (self.CavalryLogger) { CavalryLogger.start_js(["PcAxH"]); }

__d("MOzVideoPlayerApi",["BanzaiODS","MVideoPlayerApiBase","Bootloader","EventListener","VideoPlayerLoggerEvent","VideoPlayerLoggerErrorStates","VideoPlayerVersions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n;b=h.MVideoPlayerApiBase;function o(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function p(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+a+" is unknown"}}c=babelHelpers.inherits(a,b);n=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=n.constructor).call.apply(a,[this].concat(d)),this.getVideoQuality=function(){return this.$MOzVideoPlayerApi1}.bind(this),this.toggleVideoQuality=function(){__p&&__p();if(!this.$MOzVideoPlayerApi2)return;var a=this.$MOzVideoPlayerApi2.getVideoQualities();if(!a||a.length===1)return;var b=a.indexOf(this.$MOzVideoPlayerApi1);b===-1&&(b=a.length-1);b=b>=a.length-1?0:b+1;a=a[b];this.$MOzVideoPlayerApi2.switchToVideoQuality(a);this.$MOzVideoPlayerApi1=a}.bind(this),b}a.prototype.postInit=function(){"use strict";__p&&__p();g.bumpEntityKey("MOzVideoPlayerApi","started");var a=this.getVideoData().dashManifest;if(!a)throw new Error("No manifest available in VideoData. Aborting.");this.getSubscriptions().addSubscriptions(j.listen(this.getVideoElement(),"error",this.$MOzVideoPlayerApi3.bind(this)),i.loadModules(["oz-player","oz-player/configs/DummyOzConfig"],function(b,c){__p&&__p();g.bumpEntityKey("MOzVideoPlayerApi","loaded");try{this.$MOzVideoPlayerApi2=new b(this.getVideoElement(),new c(),a);this.$MOzVideoPlayerApi2.onError(function(a){return this.$MOzVideoPlayerApi4(a,"DashPlayer.onError")}.bind(this));g.bumpEntityKey("MOzVideoPlayerApi","created");this.$MOzVideoPlayerApi2.setupVideoStream()["catch"](function(a){g.bumpEntityKey("MOzVideoPlayerApi","failed.setupVideoStream"),this.$MOzVideoPlayerApi4(a,"setupVideoStream")}.bind(this));this.$MOzVideoPlayerApi2.setupAudioStreamIfExist()["catch"](function(a){g.bumpEntityKey("MOzVideoPlayerApi","failed.setupAudioStreamIfExis"),this.$MOzVideoPlayerApi4(a,"setupAudioStreamIfExist")}.bind(this));g.bumpEntityKey("MOzVideoPlayerApi","setupCompleted");b=this.$MOzVideoPlayerApi2.getVideoQualities();b.length>1&&(this.$MOzVideoPlayerApi1=this.$MOzVideoPlayerApi2.getCurrentQuality());g.bumpEntityKey("MOzVideoPlayerApi","success")}catch(a){this.$MOzVideoPlayerApi4(a,"caught"),g.bumpEntityKey("MOzVideoPlayerApi","failed.exception")}}.bind(this),"MOzVideoPlayerApi"))};a.prototype.$MOzVideoPlayerApi4=function(a,b){var c=arguments.length<=2||arguments[2]===undefined?l.PLAYER_FAILURE:arguments[2],d=void 0;a.message?d=a.message:a.code?d=o(a.code):d=a.toString();var e;void 0;a.code?e=p(a.code):a.name?e=a.name:e=a.toString();this.logEvent(k.ERROR,{error:e,error_description:(b?b+": ":"")+(d?d:"(unknown)"),state:c})};a.prototype.getPlayerVersion=function(){"use strict";return m.MTOUCH_OZ};a.prototype.$MOzVideoPlayerApi3=function(a){"use strict";a=this.getVideoElement().error;a&&this.$MOzVideoPlayerApi4(a,"onError",l.PLAYBACK_FAILURE)};e.exports=a}),null);